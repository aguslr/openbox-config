#
# These things are run when an Openbox X Session is started.
#

# Set background
hsetroot -solid '#898b8b'
nitrogen --restore

# Launch panel
tint2 -c "${XDG_CONFIG_HOME:-$HOME/.config}/tint2/ob_taskbar" &
# Launch systray
tint2 -c "${XDG_CONFIG_HOME:-$HOME/.config}/tint2/ob_systray" &

# Launch composite manager
pgrep -xu "$USER" compton >/dev/null || \
    compton -bcCG -o 0.2 -r 0 -l 5 -t 5 -f -D2

# Change screen timeout
# https://wiki.archlinux.org/index.php/Display_Power_Management_Signaling#Modifying_DPMS_and_screensaver_settings_using_xset
xset s 600 600
# Start xss-lock if login locally
if [ -z "$XRDP_SESSION" ]; then
	pgrep -xu "$USER" xss-lock >/dev/null || \
	    xss-lock -- i3lock.sh -s 50 -efI 5 &
fi

# Start udiskie for device automonting
pgrep -xu "$USER" udiskie >/dev/null || udiskie --smart-tray &

# Set volume to 50%
amixer -q sset Master 50%

# Start fdpowermon
fdpowermon &

# vim: set ft=sh :
